!function(){"classList"in document.createElement("_")||function(t){"use strict";if("Element"in t){var e="classList",s="prototype",i=t.Element[s],n=Object,a=String[s].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[s].indexOf||function(t){for(var e=0,s=this.length;e<s;e++)if(e in this&&this[e]===t)return e;return-1},r=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new r("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new r("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},c=function(t){for(var e=a.call(t.getAttribute("class")||""),s=e?e.split(/\s+/):[],i=0,n=s.length;i<n;i++)this.push(s[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},d=c[s]=[],h=function(){return new c(this)};if(r[s]=Error[s],d.item=function(t){return this[t]||null},d.contains=function(t){return-1!==l(this,t+="")},d.add=function(){var t,e=arguments,s=0,i=e.length,n=!1;do{-1===l(this,t=e[s]+"")&&(this.push(t),n=!0)}while(++s<i);n&&this._updateClassName()},d.remove=function(){var t,e,s=arguments,i=0,n=s.length,a=!1;do{for(e=l(this,t=s[i]+"");-1!==e;)this.splice(e,1),a=!0,e=l(this,t)}while(++i<n);a&&this._updateClassName()},d.toggle=function(t,e){t+="";var s=this.contains(t),i=s?!0!==e&&"remove":!1!==e&&"add";return i&&this[i](t),!0===e||!1===e?e:!s},d.toString=function(){return this.join(" ")},n.defineProperty){var u={get:h,enumerable:!0,configurable:!0};try{n.defineProperty(i,e,u)}catch(t){-2146823252===t.number&&(u.enumerable=!1,n.defineProperty(i,e,u))}}else n[s].__defineGetter__&&i.__defineGetter__(e,h)}}(self),Element.prototype.addEventListener||(Element.prototype.addEventListener=function(t,e){this.attachEvent&&this.attachEvent("on"+t,e)}),Element.prototype.removeEventListener||(Element.prototype.removeEventListener=function(t,e){this.detachEvent&&this.detachEvent("on"+t,e)});class t{static settings={maxVisibleToasts:3,readMoreText:"Read more",readLessText:"Read less"};static toastQueue=[];constructor(t,e="",s="info",i="top-right",n=3e3){this.message=t,this.title=e,this.mode=s,this.position=i,this.duration=n,this.timeoutId=null,this.remainingTime=n,this.startTime=null,this.isPaused=!1,this.createToast()}static configure(t){this.settings={...this.settings,...t}}createToast(){const e=this.getContainer(),s=document.createElement("div");if(s.className=`snap-toast-notification snap-toast-${this.mode}`,s.setAttribute("role","alert"),s.setAttribute("aria-live","polite"),s.tabIndex=0,this.title){const t=document.createElement("div");t.className="snap-toast-header";const i=document.createElement("div");i.className="snap-toast-header-icon";const n=document.createElement("div");n.className="snap-toast-header-title",n.innerText=this.title;const a=document.createElement("button");a.className="snap-toast-close",a.innerText="X",a.setAttribute("aria-label","Close notification"),a.addEventListener("click",(()=>{this.closeToast(s,e)})),t.appendChild(i),t.appendChild(n),t.appendChild(a),s.appendChild(t)}const i=document.createElement("div");if(i.className="snap-toast-body",i.innerText=this.message,!this.title){const t=document.createElement("button");t.className="snap-toast-close",t.innerText="X",t.setAttribute("aria-label","Close notification"),t.addEventListener("click",(()=>{this.closeToast(s,e)})),i.appendChild(t)}if(this.message.length>100){const e=document.createElement("span");e.className="snap-toast-read-more",e.innerText=t.settings.readMoreText,e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),e.tabIndex=0,e.addEventListener("click",(n=>{n.stopPropagation(),i.classList.toggle("expanded"),i.classList.contains("expanded")?(s.style.maxHeight=`${i.scrollHeight+60}px`,e.innerText=t.settings.readLessText,e.setAttribute("aria-expanded","true")):(s.style.maxHeight="120px",e.innerText=t.settings.readMoreText,e.setAttribute("aria-expanded","false")),this.isPaused=!0,s.classList.add("paused"),this.pauseTimeout()})),i.appendChild(e)}s.appendChild(i),s.addEventListener("mouseenter",(()=>{this.isPaused||this.pauseTimeout()})),s.addEventListener("mouseleave",(()=>{this.isPaused||this.resumeTimeout(s,e)})),s.addEventListener("click",(()=>{this.isPaused?(this.isPaused=!1,s.classList.remove("paused"),this.resumeTimeout(s,e)):(this.isPaused=!0,s.classList.add("paused"),this.pauseTimeout())})),e.children.length<t.settings.maxVisibleToasts?this.showToast(s,e):t.toastQueue.push({toast:s,container:e})}getContainer(){let t=document.querySelector(`.snap-toast-container.${this.position}`);return t||(t=document.createElement("div"),t.className=`snap-toast-container ${this.position}`,document.body.appendChild(t)),t}showToast(t,e){this.position.includes("bottom")?e.prepend(t):e.appendChild(t),setTimeout((()=>{t.classList.add("show"),t.focus(),this.startTime=Date.now(),this.timeoutId=setTimeout((()=>{this.closeToast(t,e,!0)}),this.remainingTime)}),100)}pauseTimeout(){clearTimeout(this.timeoutId),this.remainingTime-=Date.now()-this.startTime}resumeTimeout(t,e){this.startTime=Date.now(),this.timeoutId=setTimeout((()=>{this.closeToast(t,e,!0)}),this.remainingTime)}closeToast(e,s,i=!1){setTimeout((()=>{e.classList.remove("show"),setTimeout((()=>{if(e.parentElement&&e.parentElement.removeChild(e),s.children.length<t.settings.maxVisibleToasts&&t.toastQueue.length>0){const e=t.toastQueue.shift();this.showToast(e.toast,e.container)}0===s.children.length&&0===t.toastQueue.length&&s.parentElement&&s.parentElement.removeChild(s)}),300)}),i?0:200)}}window.SnapToast=t}();
